<ng-template [ngIf]="isAuthenticated$ | async">
    <nav class="navbar navbar-expand-lg fixed-top trans-navigation">
        <div class="container">
            <img src="../../../assets/images/squad.jpg" alt=""
                style="width: 45px; height:45px; border-radius: 50%; position: fixed;" class="img-fluid b-logo">
            <a class="navbar-brand font-weight-bold" [routerLink]="['/']"
                style="position: fixed; left: 10%; top:3%; font-size: large;">
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
                Squad
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainNav"
                aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon">
                    <i class="fa fa-bars"></i>
                </span>
            </button>

            <!-- User Teams -->
            <div class="collapse navbar-collapse justify-content-end" id="mainNav">
                <ul class="navbar-nav ">
                    <li class="nav-item">
                        <a class="nav-link" routerLink="/userHome"><svg xmlns="http://www.w3.org/2000/svg" width="18"
                                height="20" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                                <path
                                    d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z" />
                            </svg></a>
                    </li>

                    <ng-template [ngIf]="user.freelancer">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#!" id="navbarWelcome" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Find Work <i class="fas fa-chevron-down"></i>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarWelcome">
                                <li><a class="dropdown-item" [routerLink]="['/team/createteam']">Create Team</a>
                                </li>
                                <li><a class="dropdown-item" [routerLink]="['/projects/list']">Find Work for your
                                        team</a></li>
                                <li><a class="dropdown-item" [routerLink]="['/team/showteams']">find Team to Join</a>
                                </li>
                            </ul>
                        </li>
                    </ng-template>

                    <ng-template [ngIf]="user.client">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#!" id="navbarWelcome" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Find Talent Squad <i class="fas fa-chevron-down"></i>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarWelcome">
                                <li><a class="dropdown-item" [routerLink]="['/projects/create']">Post Job</a></li>
                                <li><a class="dropdown-item" [routerLink]="['/team/showteams']" href="index-2.html">Hire
                                        Team</a>
                                </li>
                            </ul>
                        </li>
                    </ng-template>

                    <!-- <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#!" id="navbarWelcome" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            My Teams <i class="fas fa-chevron-down"></i>
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarWelcome">
                            <ng-template ngFor let-team [ngForOf]="teams">
                                <li><a class="dropdown-item" [routerLink]="['team/teamProfile',team.id]">

                                        {{team.name}}</a></li>
                            </ng-template>
                        </ul>
                    </li> -->

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#!" id="navbarWelcome" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-person-circle" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                <path fill-rule="evenodd"
                                    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z" />
                            </svg> &nbsp;
                            <!-- {{name}} -->
                            {{account.firstName}} {{account.lastName}}
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarWelcome">
                            <li [routerLink]="['/profile/',user.id]"
                                (click)="Switch(account.firstName+' '+account.lastName,0)"><a class="dropdown-item">
                                    <img src="https://localhost:7152/api/Image?UserId={{user.id}}" width="20"
                                        height="20" alt="User" style=" border-radius: 50%;"
                                        onerror="this.src='assets/images/NoImage.png'">
                                    {{account.firstName}} {{account.lastName}}
                                </a></li>
                            <ng-template ngFor let-team [ngForOf]="teams">
                                <li [routerLink]="['team/teamProfile',team.id]" (click)="Switch(team.name,team.id)"><a
                                        class="dropdown-item">

                                        <img src="https://localhost:7152/api/Image/Team?TeamId={{team.id}}" width="20"
                                            height="20" alt="User" style="border-radius: 50%;"
                                            onerror="this.src='assets/images/4.jpg'">
                                        {{team.name}}
                                    </a></li>
                            </ng-template>
                        </ul>
                    </li>
                    <li *ngIf="account.id > 0" class="nav-item" [routerLink]="['/chat']">
                        <a routerLinkActive="router-link-active" class="nav-link smoth-scroll">
                            <i class="fas fa-comment-dots"></i>
                            <ng-template [ngIf]="NoOfMessages>0">
                                <mark
                                    style="background-color: red; color: white; border-radius: 50%; width: 10px; height: 10px;position: relative;top: -15px;left:-8px"><small><small>{{NoOfMessages}}</small></small></mark>
                            </ng-template>
                        </a>
                    </li>

                    <li *ngIf="account.id > 0" class="nav-item dropdown" (click)="MarkAsRead()">
                        <a routerLinkActive="router-link-active" class="nav-link smoth-scroll">
                            <i class="fas fa-bell"></i>
                            <ng-template [ngIf]="NoOfNotifications>0">
                                <mark
                                    style="background-color: red; color: white; border-radius: 50%; width: 5px; height: 5px;position: relative;top: -15px;left:-8px"><small><small>{{NoOfNotifications}}</small></small>
                                </mark>
                            </ng-template>
                        </a>
                        <div data-bs-spy="scroll" data-bs-target="#navbar-example" data-bs-offset="0"
                            class="dropdown-menu dropdown-menu-right dropdown-menu-end show scrollspy-example"
                            id="navbarNotificationContent" tabindex="0" aria-labelledby="navbarDropdownMenuLink"
                            style="width: 370px;">
                            <ng-template ngFor let-notif [ngForOf]="ListOfNotifications" let-i="index">
                                <a *ngIf="i<=7" class="dropdown-item text-wrap" [routerLink]="[notif.type,notif.id]">
                                    <div *ngIf="!notif.read" class="container row pb-2"
                                        style="background-color:rgb(252, 250, 255) ;">
                                        <div class="col-12 m-2 mb-2">{{notif.description}}</div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-success"
                                                (click)="Accept(notif.type,notif.type_id)">Accept</a>
                                        </div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-danger"
                                                (click)="Decline(notif.type,notif.type_id)">Decline</a>
                                        </div>
                                        <div class="offset-1 col-5">
                                            <small class="text-secondary text-end">{{notif.date | date:'short'}}</small>
                                        </div>
                                    </div>
                                    <div *ngIf="notif.read" class="container row pb-2">
                                        <div class="col-12 m-2 mb-2">{{notif.description}}</div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-success"
                                                (click)="Accept(notif.type,notif.type_id)">Accept</a>
                                        </div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-danger"
                                                (click)="Decline(notif.type,notif.type_id)">Decline</a>
                                        </div>
                                        <div class="offset-1 col-5">
                                            <small class="text-secondary text-end">{{notif.date | date:'short'}}</small>
                                        </div>

                                    </div>
                                </a>
                                <a *ngIf="i>7 && ViewAll && i<=20" class="dropdown-item text-wrap"
                                    [routerLink]="['',notif.type,notif.id]">
                                    <div *ngIf="!notif.read" class="container row pb-2"
                                        style="background-color:MintCream ;">
                                        <div class="col-12 m-2 mb-2">{{notif.description}}</div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-success"
                                                (click)="Accept(notif.type,notif.type_id)">Accept</a>
                                        </div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-danger"
                                                (click)="Decline(notif.type,notif.type_id)">Decline</a>
                                        </div>
                                        <div class="offset-1 col-5">
                                            <small class="text-secondary text-end">{{notif.date | date:'short'}}</small>
                                        </div>

                                    </div>
                                    <div *ngIf="notif.read" class="container row pb-2">
                                        <div class="col-12 m-2 mb-2">{{notif.description}}</div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-success"
                                                (click)="Accept(notif.type,notif.type_id)">Accept</a>
                                        </div>
                                        <div class="col-3">
                                            <a class="text-center m-2 text-danger"
                                                (click)="Decline(notif.type,notif.type_id)">Decline</a>
                                        </div>
                                        <div class="offset-1 col-5">
                                            <small class="text-secondary text-end">{{notif.date | date:'short'}}</small>
                                        </div>

                                    </div>
                                </a>
                            </ng-template>


                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item"
                                (click)="ViewAll = !ViewAll; text = (text=='Hide')?'See more':'Hide'">{{text}}</a>
                        </div>
                    </li>

                    <li *ngIf="account.id > 0" class="nav-item">
                        <a (click)="logout()" [routerLink]="['']" routerLinkActive="router-link-active"
                            class="nav-link smoth-scroll">

                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-door-closed-fill" viewBox="0 0 16 16">
                                <path
                                    d="M12 1a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V2a1 1 0 0 1 1-1h8zm-2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
                            </svg>
                            Log Out
                        </a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>
    <br><br><br>
</ng-template>
<!--MAIN HEADER AREA END -->